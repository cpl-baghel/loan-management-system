{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cpl\\\\Desktop\\\\Cursor\\\\loan-management-system\\\\client\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Container, Row, Col, Card, Badge, Button, Alert, Nav, Tab } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { getUserLoans } from '../services/loanService';\nimport { getUserEmis } from '../services/emiService';\nimport EmiList from '../components/emi/EmiList';\n\n// Helper function to format currency\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD'\n  }).format(amount);\n};\n\n// Helper function to format date\nconst formatDate = dateString => {\n  const options = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric'\n  };\n  return new Date(dateString).toLocaleDateString(undefined, options);\n};\n\n// Loan status badge component\nconst LoanStatusBadge = ({\n  status\n}) => {\n  let variant;\n  switch (status) {\n    case 'approved':\n      variant = 'success';\n      break;\n    case 'rejected':\n      variant = 'danger';\n      break;\n    case 'pending':\n      variant = 'warning';\n      break;\n    case 'paid':\n      variant = 'primary';\n      break;\n    default:\n      variant = 'secondary';\n  }\n  return /*#__PURE__*/_jsxDEV(Badge, {\n    bg: variant,\n    children: status.toUpperCase()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 10\n  }, this);\n};\n_c = LoanStatusBadge;\nconst Dashboard = () => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [loans, setLoans] = useState([]);\n  const [emis, setEmis] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState('loans');\n  const [refreshData, setRefreshData] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (activeTab === 'loans' || activeTab === 'emi') {\n          const loansData = await getUserLoans();\n          setLoans(loansData);\n        }\n        if (activeTab === 'emi') {\n          const emisData = await getUserEmis();\n          setEmis(emisData);\n        }\n      } catch (err) {\n        setError('Failed to fetch your data. Please try again later.');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [activeTab, refreshData]);\n\n  // Calculate summary statistics\n  const calculateSummary = () => {\n    const totalLoans = loans.length;\n    const approvedLoans = loans.filter(loan => loan.status === 'approved').length;\n    const pendingLoans = loans.filter(loan => loan.status === 'pending').length;\n    const rejectedLoans = loans.filter(loan => loan.status === 'rejected').length;\n    const totalAmount = loans.reduce((sum, loan) => sum + loan.amount, 0);\n    const approvedAmount = loans.filter(loan => loan.status === 'approved').reduce((sum, loan) => sum + loan.amount, 0);\n\n    // Get upcoming EMI (nearest due date)\n    const pendingEmis = emis.filter(emi => emi.status === 'pending');\n    let upcomingEmi = null;\n    if (pendingEmis.length > 0) {\n      upcomingEmi = pendingEmis.reduce((nearest, emi) => {\n        if (!nearest) return emi;\n        return new Date(emi.dueDate) < new Date(nearest.dueDate) ? emi : nearest;\n      }, null);\n    }\n    return {\n      totalLoans,\n      approvedLoans,\n      pendingLoans,\n      rejectedLoans,\n      totalAmount,\n      approvedAmount,\n      upcomingEmi\n    };\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          className: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading your data...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n  const summary = calculateSummary();\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Manage your loan applications and track their status.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          as: Link,\n          to: \"/apply-loan\",\n          variant: \"primary\",\n          children: \"Apply for New Loan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"h-100 dashboard-stat-card\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-muted\",\n              children: \"Total Loans\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: summary.totalLoans\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-primary mb-0\",\n              children: formatCurrency(summary.totalAmount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"h-100 dashboard-stat-card\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-muted\",\n              children: \"Active Loans\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: summary.approvedLoans\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success mb-0\",\n              children: formatCurrency(summary.approvedAmount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"h-100 dashboard-stat-card\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-muted\",\n              children: \"Pending Applications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: summary.pendingLoans\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-warning mb-0\",\n              children: summary.pendingLoans > 0 ? 'Awaiting approval' : 'None pending'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"h-100 dashboard-stat-card\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"text-muted\",\n              children: \"Next Payment Due\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: summary.upcomingEmi ? formatCurrency(summary.upcomingEmi.amount) : 'No payment due'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger mb-0\",\n              children: summary.upcomingEmi ? formatDate(summary.upcomingEmi.dueDate) : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tab.Container, {\n      activeKey: activeTab,\n      onSelect: k => setActiveTab(k),\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: /*#__PURE__*/_jsxDEV(Nav, {\n                variant: \"tabs\",\n                children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                    eventKey: \"loans\",\n                    children: \"My Loans\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                    eventKey: \"emi\",\n                    children: \"EMI Payments\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Tab.Content, {\n                children: [/*#__PURE__*/_jsxDEV(Tab.Pane, {\n                  eventKey: \"loans\",\n                  children: loans.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-center\",\n                    children: \"You haven't applied for any loans yet.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 23\n                  }, this) : loans.map(loan => /*#__PURE__*/_jsxDEV(Card, {\n                    className: \"mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: /*#__PURE__*/_jsxDEV(Row, {\n                        children: [/*#__PURE__*/_jsxDEV(Col, {\n                          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                            children: loan.purpose\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 220,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"mb-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Amount:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 222,\n                              columnNumber: 35\n                            }, this), \" \", formatCurrency(loan.amount)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 221,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"mb-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Term:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 225,\n                              columnNumber: 35\n                            }, this), \" \", loan.term, \" months\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 224,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"mb-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Applied on:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 228,\n                              columnNumber: 35\n                            }, this), \" \", formatDate(loan.applicationDate)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 227,\n                            columnNumber: 33\n                          }, this), loan.approvalDate && /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"mb-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Approved on:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 232,\n                              columnNumber: 37\n                            }, this), \" \", formatDate(loan.approvalDate)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 231,\n                            columnNumber: 35\n                          }, this), loan.rejectionReason && /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"mb-1\",\n                            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                              children: \"Rejection Reason:\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 237,\n                              columnNumber: 37\n                            }, this), \" \", loan.rejectionReason]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 236,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(Col, {\n                          xs: \"auto\",\n                          className: \"d-flex flex-column align-items-end\",\n                          children: [/*#__PURE__*/_jsxDEV(LoanStatusBadge, {\n                            status: loan.status\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 242,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-auto\",\n                            children: /*#__PURE__*/_jsxDEV(Button, {\n                              as: Link,\n                              to: `/loans/${loan._id}`,\n                              variant: \"outline-primary\",\n                              size: \"sm\",\n                              className: \"mt-2\",\n                              children: \"View Details\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 244,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 243,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 241,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 27\n                    }, this)\n                  }, loan._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Tab.Pane, {\n                  eventKey: \"emi\",\n                  children: emis.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-center\",\n                    children: \"You don't have any EMI payments scheduled.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(EmiList, {\n                    emis: emis,\n                    refreshEmis: () => setRefreshData(!refreshData)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"pkDCfeeW3HTQxUG9uG2MpqNJSpE=\");\n_c2 = Dashboard;\nexport default Dashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoanStatusBadge\");\n$RefreshReg$(_c2, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Container","Row","Col","Card","Badge","Button","Alert","Nav","Tab","Link","AuthContext","getUserLoans","getUserEmis","EmiList","jsxDEV","_jsxDEV","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","LoanStatusBadge","status","variant","bg","children","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","_c","Dashboard","_s","user","loans","setLoans","emis","setEmis","loading","setLoading","error","setError","activeTab","setActiveTab","refreshData","setRefreshData","fetchData","loansData","emisData","err","console","calculateSummary","totalLoans","length","approvedLoans","filter","loan","pendingLoans","rejectedLoans","totalAmount","reduce","sum","approvedAmount","pendingEmis","emi","upcomingEmi","nearest","dueDate","className","Body","summary","name","xs","as","to","md","activeKey","onSelect","k","Header","Item","eventKey","Content","Pane","map","purpose","term","applicationDate","approvalDate","rejectionReason","_id","size","refreshEmis","_c2","$RefreshReg$"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Container, Row, Col, Card, Badge, Button, Alert, Nav, Tab } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { getUserLoans } from '../services/loanService';\r\nimport { getUserEmis } from '../services/emiService';\r\nimport EmiList from '../components/emi/EmiList';\r\n\r\n// Helper function to format currency\r\nconst formatCurrency = (amount) => {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD'\r\n  }).format(amount);\r\n};\r\n\r\n// Helper function to format date\r\nconst formatDate = (dateString) => {\r\n  const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n  return new Date(dateString).toLocaleDateString(undefined, options);\r\n};\r\n\r\n// Loan status badge component\r\nconst LoanStatusBadge = ({ status }) => {\r\n  let variant;\r\n  switch (status) {\r\n    case 'approved':\r\n      variant = 'success';\r\n      break;\r\n    case 'rejected':\r\n      variant = 'danger';\r\n      break;\r\n    case 'pending':\r\n      variant = 'warning';\r\n      break;\r\n    case 'paid':\r\n      variant = 'primary';\r\n      break;\r\n    default:\r\n      variant = 'secondary';\r\n  }\r\n  \r\n  return <Badge bg={variant}>{status.toUpperCase()}</Badge>;\r\n};\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [loans, setLoans] = useState([]);\r\n  const [emis, setEmis] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [activeTab, setActiveTab] = useState('loans');\r\n  const [refreshData, setRefreshData] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        if (activeTab === 'loans' || activeTab === 'emi') {\r\n          const loansData = await getUserLoans();\r\n          setLoans(loansData);\r\n        }\r\n        \r\n        if (activeTab === 'emi') {\r\n          const emisData = await getUserEmis();\r\n          setEmis(emisData);\r\n        }\r\n      } catch (err) {\r\n        setError('Failed to fetch your data. Please try again later.');\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [activeTab, refreshData]);\r\n\r\n  // Calculate summary statistics\r\n  const calculateSummary = () => {\r\n    const totalLoans = loans.length;\r\n    const approvedLoans = loans.filter(loan => loan.status === 'approved').length;\r\n    const pendingLoans = loans.filter(loan => loan.status === 'pending').length;\r\n    const rejectedLoans = loans.filter(loan => loan.status === 'rejected').length;\r\n    \r\n    const totalAmount = loans.reduce((sum, loan) => sum + loan.amount, 0);\r\n    const approvedAmount = loans\r\n      .filter(loan => loan.status === 'approved')\r\n      .reduce((sum, loan) => sum + loan.amount, 0);\r\n\r\n    // Get upcoming EMI (nearest due date)\r\n    const pendingEmis = emis.filter(emi => emi.status === 'pending');\r\n    let upcomingEmi = null;\r\n    \r\n    if (pendingEmis.length > 0) {\r\n      upcomingEmi = pendingEmis.reduce((nearest, emi) => {\r\n        if (!nearest) return emi;\r\n        return new Date(emi.dueDate) < new Date(nearest.dueDate) ? emi : nearest;\r\n      }, null);\r\n    }\r\n\r\n    return {\r\n      totalLoans,\r\n      approvedLoans,\r\n      pendingLoans,\r\n      rejectedLoans,\r\n      totalAmount,\r\n      approvedAmount,\r\n      upcomingEmi\r\n    };\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Card>\r\n          <Card.Body className=\"text-center\">\r\n            <p>Loading your data...</p>\r\n          </Card.Body>\r\n        </Card>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  const summary = calculateSummary();\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"mb-4\">\r\n        <Col>\r\n          <h2>Welcome, {user?.name}</h2>\r\n          <p>Manage your loan applications and track their status.</p>\r\n        </Col>\r\n        <Col xs=\"auto\">\r\n          <Button as={Link} to=\"/apply-loan\" variant=\"primary\">\r\n            Apply for New Loan\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n\r\n      <Row className=\"mb-4\">\r\n        <Col md={3}>\r\n          <Card className=\"h-100 dashboard-stat-card\">\r\n            <Card.Body className=\"text-center\">\r\n              <h6 className=\"text-muted\">Total Loans</h6>\r\n              <h3>{summary.totalLoans}</h3>\r\n              <p className=\"text-primary mb-0\">\r\n                {formatCurrency(summary.totalAmount)}\r\n              </p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"h-100 dashboard-stat-card\">\r\n            <Card.Body className=\"text-center\">\r\n              <h6 className=\"text-muted\">Active Loans</h6>\r\n              <h3>{summary.approvedLoans}</h3>\r\n              <p className=\"text-success mb-0\">\r\n                {formatCurrency(summary.approvedAmount)}\r\n              </p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"h-100 dashboard-stat-card\">\r\n            <Card.Body className=\"text-center\">\r\n              <h6 className=\"text-muted\">Pending Applications</h6>\r\n              <h3>{summary.pendingLoans}</h3>\r\n              <p className=\"text-warning mb-0\">\r\n                {summary.pendingLoans > 0 ? 'Awaiting approval' : 'None pending'}\r\n              </p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n        <Col md={3}>\r\n          <Card className=\"h-100 dashboard-stat-card\">\r\n            <Card.Body className=\"text-center\">\r\n              <h6 className=\"text-muted\">Next Payment Due</h6>\r\n              <h3>\r\n                {summary.upcomingEmi \r\n                  ? formatCurrency(summary.upcomingEmi.amount) \r\n                  : 'No payment due'}\r\n              </h3>\r\n              <p className=\"text-danger mb-0\">\r\n                {summary.upcomingEmi \r\n                  ? formatDate(summary.upcomingEmi.dueDate) \r\n                  : ''}\r\n              </p>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Tab.Container activeKey={activeTab} onSelect={(k) => setActiveTab(k)}>\r\n        <Row>\r\n          <Col>\r\n            <Card>\r\n              <Card.Header>\r\n                <Nav variant=\"tabs\">\r\n                  <Nav.Item>\r\n                    <Nav.Link eventKey=\"loans\">My Loans</Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link eventKey=\"emi\">EMI Payments</Nav.Link>\r\n                  </Nav.Item>\r\n                </Nav>\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <Tab.Content>\r\n                  <Tab.Pane eventKey=\"loans\">\r\n                    {loans.length === 0 ? (\r\n                      <p className=\"text-center\">You haven't applied for any loans yet.</p>\r\n                    ) : (\r\n                      loans.map((loan) => (\r\n                        <Card key={loan._id} className=\"mb-3\">\r\n                          <Card.Body>\r\n                            <Row>\r\n                              <Col>\r\n                                <h5>{loan.purpose}</h5>\r\n                                <p className=\"mb-1\">\r\n                                  <strong>Amount:</strong> {formatCurrency(loan.amount)}\r\n                                </p>\r\n                                <p className=\"mb-1\">\r\n                                  <strong>Term:</strong> {loan.term} months\r\n                                </p>\r\n                                <p className=\"mb-1\">\r\n                                  <strong>Applied on:</strong> {formatDate(loan.applicationDate)}\r\n                                </p>\r\n                                {loan.approvalDate && (\r\n                                  <p className=\"mb-1\">\r\n                                    <strong>Approved on:</strong> {formatDate(loan.approvalDate)}\r\n                                  </p>\r\n                                )}\r\n                                {loan.rejectionReason && (\r\n                                  <p className=\"mb-1\">\r\n                                    <strong>Rejection Reason:</strong> {loan.rejectionReason}\r\n                                  </p>\r\n                                )}\r\n                              </Col>\r\n                              <Col xs=\"auto\" className=\"d-flex flex-column align-items-end\">\r\n                                <LoanStatusBadge status={loan.status} />\r\n                                <div className=\"mt-auto\">\r\n                                  <Button \r\n                                    as={Link} \r\n                                    to={`/loans/${loan._id}`} \r\n                                    variant=\"outline-primary\" \r\n                                    size=\"sm\"\r\n                                    className=\"mt-2\"\r\n                                  >\r\n                                    View Details\r\n                                  </Button>\r\n                                </div>\r\n                              </Col>\r\n                            </Row>\r\n                          </Card.Body>\r\n                        </Card>\r\n                      ))\r\n                    )}\r\n                  </Tab.Pane>\r\n                  <Tab.Pane eventKey=\"emi\">\r\n                    {emis.length === 0 ? (\r\n                      <p className=\"text-center\">You don't have any EMI payments scheduled.</p>\r\n                    ) : (\r\n                      <EmiList emis={emis} refreshEmis={() => setRefreshData(!refreshData)} />\r\n                    )}\r\n                  </Tab.Pane>\r\n                </Tab.Content>\r\n              </Card.Body>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Tab.Container>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}