{"ast":null,"code":"import React,{useState}from'react';import{Table,Badge,Button,Modal,Form,Alert,Row,Col}from'react-bootstrap';import{payEmi,manualUpdateEmi}from'../../services/emiService';// Helper function to format currency in Rupees\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const formatCurrency=amount=>{if(!amount)return'₹0';return new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR'}).format(amount);};// Helper function to format date\nconst formatDate=dateString=>{if(!dateString)return'N/A';const options={year:'numeric',month:'long',day:'numeric'};return new Date(dateString).toLocaleDateString(undefined,options);};// EMI status badge component\nconst EmiStatusBadge=_ref=>{let{status}=_ref;let variant;switch(status){case'paid':variant='success';break;case'overdue':variant='danger';break;case'pending':variant='warning';break;default:variant='secondary';}return/*#__PURE__*/_jsx(Badge,{bg:variant,children:status.toUpperCase()});};const EmiList=_ref2=>{var _selectedEmi$user;let{emis,refreshEmis,isAdmin=false}=_ref2;const[selectedEmi,setSelectedEmi]=useState(null);const[showPayModal,setShowPayModal]=useState(false);const[showManualModal,setShowManualModal]=useState(false);const[paymentId,setPaymentId]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const[isProcessing,setIsProcessing]=useState(false);const[manualPaymentData,setManualPaymentData]=useState({status:'paid',paymentDate:new Date().toISOString().split('T')[0],paymentReference:'',lateFee:0});const handlePayClick=emi=>{setSelectedEmi(emi);setPaymentId('');setError('');setSuccess('');setShowPayModal(true);};const handleManualPayClick=emi=>{setSelectedEmi(emi);setError('');setSuccess('');// Calculate default lateFee if overdue\nlet defaultLateFee=0;const today=new Date();const dueDate=new Date(emi.dueDate);if(today>dueDate){const daysLate=Math.floor((today-dueDate)/(1000*60*60*24));// 1% of EMI amount per day, capped at 20%\nconst feePercentage=Math.min(daysLate*1,20);defaultLateFee=emi.amount*feePercentage/100;}setManualPaymentData({status:'paid',paymentDate:new Date().toISOString().split('T')[0],paymentReference:`CASH-${Date.now()}`,lateFee:defaultLateFee});setShowManualModal(true);};const handleCloseModal=()=>{setShowPayModal(false);setShowManualModal(false);setSelectedEmi(null);};const handlePaymentSubmit=async e=>{e.preventDefault();setError('');setSuccess('');setIsProcessing(true);try{await payEmi(selectedEmi._id,paymentId);setSuccess('Payment successful!');// Close modal after 2 seconds and refresh data\nsetTimeout(()=>{handleCloseModal();if(refreshEmis)refreshEmis();},2000);}catch(err){setError(err.message||'Payment failed. Please try again.');}finally{setIsProcessing(false);}};const handleManualPaymentSubmit=async e=>{e.preventDefault();setError('');setSuccess('');setIsProcessing(true);try{await manualUpdateEmi(selectedEmi._id,manualPaymentData);setSuccess('Payment record updated successfully!');// Close modal after 2 seconds and refresh data\nsetTimeout(()=>{handleCloseModal();if(refreshEmis)refreshEmis();},2000);}catch(err){setError(err.message||'Update failed. Please try again.');}finally{setIsProcessing(false);}};const handleManualInputChange=e=>{const{name,value}=e.target;setManualPaymentData({...manualPaymentData,[name]:name==='lateFee'?parseFloat(value):value});};// Check if there's a late fee\nconst calculateTotal=emi=>{if(!emi)return 0;return(emi.amount||0)+(emi.lateFee||0);};// Check if EMI is due soon (within 7 days)\nconst isDueSoon=dueDate=>{if(!dueDate)return false;const today=new Date();const due=new Date(dueDate);const diffTime=due-today;const diffDays=Math.ceil(diffTime/(1000*60*60*24));return diffDays>0&&diffDays<=7;};return/*#__PURE__*/_jsxs(\"div\",{children:[emis.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center my-4\",children:\"No EMIs found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(Table,{striped:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Due Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),isAdmin&&/*#__PURE__*/_jsx(\"th\",{children:\"Customer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Late Fee\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),isAdmin&&/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:emis.map(emi=>{var _emi$user;return/*#__PURE__*/_jsxs(\"tr\",{className:isDueSoon(emi.dueDate)&&emi.status==='pending'?'table-warning':'',children:[/*#__PURE__*/_jsx(\"td\",{children:formatDate(emi.dueDate)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(emi.amount)}),isAdmin&&/*#__PURE__*/_jsx(\"td\",{children:((_emi$user=emi.user)===null||_emi$user===void 0?void 0:_emi$user.name)||'Unknown'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(EmiStatusBadge,{status:emi.status})}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(emi.lateFee||0)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(emi.totalPaid||calculateTotal(emi))}),isAdmin&&/*#__PURE__*/_jsxs(\"td\",{children:[emi.status!=='paid'&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2\",children:/*#__PURE__*/_jsx(Button,{variant:\"success\",size:\"sm\",onClick:()=>handleManualPayClick(emi),children:\"Record Payment\"})}),emi.status==='paid'&&/*#__PURE__*/_jsxs(Badge,{bg:\"success\",children:[\"Paid on \",formatDate(emi.paidDate)]})]})]},emi._id);})})]})}),/*#__PURE__*/_jsxs(Modal,{show:showPayModal,onHide:handleCloseModal,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Make Payment\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:success}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Due Date: \",/*#__PURE__*/_jsx(\"strong\",{children:formatDate(selectedEmi===null||selectedEmi===void 0?void 0:selectedEmi.dueDate)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Amount: \",/*#__PURE__*/_jsx(\"strong\",{children:formatCurrency(selectedEmi===null||selectedEmi===void 0?void 0:selectedEmi.amount)})]}),(selectedEmi===null||selectedEmi===void 0?void 0:selectedEmi.status)==='overdue'&&/*#__PURE__*/_jsx(Alert,{variant:\"warning\",children:\"This payment is overdue. A late fee may be applied.\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handlePaymentSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Payment Reference ID (Optional)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:paymentId,onChange:e=>setPaymentId(e.target.value),placeholder:\"Enter payment reference\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"If you have a payment confirmation number, enter it here.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseModal,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:isProcessing,children:isProcessing?'Processing...':'Confirm Payment'})]})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showManualModal,onHide:handleCloseModal,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Record Cash Payment\"})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:success}),/*#__PURE__*/_jsxs(Alert,{variant:\"info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Recording payment for:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Customer: \",(selectedEmi===null||selectedEmi===void 0?void 0:(_selectedEmi$user=selectedEmi.user)===null||_selectedEmi$user===void 0?void 0:_selectedEmi$user.name)||'Unknown',/*#__PURE__*/_jsx(\"br\",{}),\"Due Date: \",formatDate(selectedEmi===null||selectedEmi===void 0?void 0:selectedEmi.dueDate),/*#__PURE__*/_jsx(\"br\",{}),\"Amount: \",formatCurrency(selectedEmi===null||selectedEmi===void 0?void 0:selectedEmi.amount)]}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleManualPaymentSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Payment Status\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"status\",value:manualPaymentData.status,onChange:handleManualInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"paid\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"overdue\",children:\"Overdue\"})]})]}),manualPaymentData.status==='paid'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Payment Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"date\",name:\"paymentDate\",value:manualPaymentData.paymentDate,onChange:handleManualInputChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Payment Reference\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"paymentReference\",value:manualPaymentData.paymentReference,onChange:handleManualInputChange,placeholder:\"Cash receipt reference\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Late Fee (\\u20B9)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"lateFee\",value:manualPaymentData.lateFee,onChange:handleManualInputChange,min:\"0\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Defaults to calculated late fee based on days overdue.\"})]}),/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bold\",children:\"Payment Summary:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"EMI Amount: \",formatCurrency((selectedEmi===null||selectedEmi===void 0?void 0:selectedEmi.amount)||0)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Late Fee: \",formatCurrency(manualPaymentData.lateFee)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 fs-5\",children:[\"Total: \",formatCurrency(((selectedEmi===null||selectedEmi===void 0?void 0:selectedEmi.amount)||0)+manualPaymentData.lateFee)]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-end gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseModal,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",disabled:isProcessing,children:isProcessing?'Processing...':'Save Payment Record'})]})]})]})]})]});};export default EmiList;","map":{"version":3,"names":["React","useState","Table","Badge","Button","Modal","Form","Alert","Row","Col","payEmi","manualUpdateEmi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","EmiStatusBadge","_ref","status","variant","bg","children","toUpperCase","EmiList","_ref2","_selectedEmi$user","emis","refreshEmis","isAdmin","selectedEmi","setSelectedEmi","showPayModal","setShowPayModal","showManualModal","setShowManualModal","paymentId","setPaymentId","error","setError","success","setSuccess","isProcessing","setIsProcessing","manualPaymentData","setManualPaymentData","paymentDate","toISOString","split","paymentReference","lateFee","handlePayClick","emi","handleManualPayClick","defaultLateFee","today","dueDate","daysLate","Math","floor","feePercentage","min","now","handleCloseModal","handlePaymentSubmit","e","preventDefault","_id","setTimeout","err","message","handleManualPaymentSubmit","handleManualInputChange","name","value","target","parseFloat","calculateTotal","isDueSoon","due","diffTime","diffDays","ceil","length","className","striped","hover","map","_emi$user","user","totalPaid","size","onClick","paidDate","show","onHide","Header","closeButton","Title","Body","onSubmit","Group","Label","Control","type","onChange","placeholder","Text","disabled","as","required"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/components/emi/EmiList.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Table, Badge, Button, Modal, Form, Alert, Row, Col } from 'react-bootstrap';\r\nimport { payEmi, manualUpdateEmi } from '../../services/emiService';\r\n\r\n// Helper function to format currency in Rupees\r\nconst formatCurrency = (amount) => {\r\n  if (!amount) return '₹0';\r\n  return new Intl.NumberFormat('en-IN', {\r\n    style: 'currency',\r\n    currency: 'INR'\r\n  }).format(amount);\r\n};\r\n\r\n// Helper function to format date\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return 'N/A';\r\n  const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n  return new Date(dateString).toLocaleDateString(undefined, options);\r\n};\r\n\r\n// EMI status badge component\r\nconst EmiStatusBadge = ({ status }) => {\r\n  let variant;\r\n  switch (status) {\r\n    case 'paid':\r\n      variant = 'success';\r\n      break;\r\n    case 'overdue':\r\n      variant = 'danger';\r\n      break;\r\n    case 'pending':\r\n      variant = 'warning';\r\n      break;\r\n    default:\r\n      variant = 'secondary';\r\n  }\r\n  \r\n  return <Badge bg={variant}>{status.toUpperCase()}</Badge>;\r\n};\r\n\r\nconst EmiList = ({ emis, refreshEmis, isAdmin = false }) => {\r\n  const [selectedEmi, setSelectedEmi] = useState(null);\r\n  const [showPayModal, setShowPayModal] = useState(false);\r\n  const [showManualModal, setShowManualModal] = useState(false);\r\n  const [paymentId, setPaymentId] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [manualPaymentData, setManualPaymentData] = useState({\r\n    status: 'paid',\r\n    paymentDate: new Date().toISOString().split('T')[0],\r\n    paymentReference: '',\r\n    lateFee: 0\r\n  });\r\n\r\n  const handlePayClick = (emi) => {\r\n    setSelectedEmi(emi);\r\n    setPaymentId('');\r\n    setError('');\r\n    setSuccess('');\r\n    setShowPayModal(true);\r\n  };\r\n\r\n  const handleManualPayClick = (emi) => {\r\n    setSelectedEmi(emi);\r\n    setError('');\r\n    setSuccess('');\r\n    \r\n    // Calculate default lateFee if overdue\r\n    let defaultLateFee = 0;\r\n    const today = new Date();\r\n    const dueDate = new Date(emi.dueDate);\r\n    \r\n    if (today > dueDate) {\r\n      const daysLate = Math.floor((today - dueDate) / (1000 * 60 * 60 * 24));\r\n      // 1% of EMI amount per day, capped at 20%\r\n      const feePercentage = Math.min(daysLate * 1, 20);\r\n      defaultLateFee = (emi.amount * feePercentage) / 100;\r\n    }\r\n    \r\n    setManualPaymentData({\r\n      status: 'paid',\r\n      paymentDate: new Date().toISOString().split('T')[0],\r\n      paymentReference: `CASH-${Date.now()}`,\r\n      lateFee: defaultLateFee\r\n    });\r\n    \r\n    setShowManualModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowPayModal(false);\r\n    setShowManualModal(false);\r\n    setSelectedEmi(null);\r\n  };\r\n\r\n  const handlePaymentSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      await payEmi(selectedEmi._id, paymentId);\r\n      setSuccess('Payment successful!');\r\n      \r\n      // Close modal after 2 seconds and refresh data\r\n      setTimeout(() => {\r\n        handleCloseModal();\r\n        if (refreshEmis) refreshEmis();\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError(err.message || 'Payment failed. Please try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleManualPaymentSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      await manualUpdateEmi(selectedEmi._id, manualPaymentData);\r\n      setSuccess('Payment record updated successfully!');\r\n      \r\n      // Close modal after 2 seconds and refresh data\r\n      setTimeout(() => {\r\n        handleCloseModal();\r\n        if (refreshEmis) refreshEmis();\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError(err.message || 'Update failed. Please try again.');\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleManualInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setManualPaymentData({\r\n      ...manualPaymentData,\r\n      [name]: name === 'lateFee' ? parseFloat(value) : value\r\n    });\r\n  };\r\n\r\n  // Check if there's a late fee\r\n  const calculateTotal = (emi) => {\r\n    if (!emi) return 0;\r\n    return (emi.amount || 0) + (emi.lateFee || 0);\r\n  };\r\n\r\n  // Check if EMI is due soon (within 7 days)\r\n  const isDueSoon = (dueDate) => {\r\n    if (!dueDate) return false;\r\n    \r\n    const today = new Date();\r\n    const due = new Date(dueDate);\r\n    const diffTime = due - today;\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    \r\n    return diffDays > 0 && diffDays <= 7;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {emis.length === 0 ? (\r\n        <p className=\"text-center my-4\">No EMIs found.</p>\r\n      ) : (\r\n        <div className=\"table-responsive\">\r\n          <Table striped hover>\r\n            <thead>\r\n              <tr>\r\n                <th>Due Date</th>\r\n                <th>Amount</th>\r\n                {isAdmin && <th>Customer</th>}\r\n                <th>Status</th>\r\n                <th>Late Fee</th>\r\n                <th>Total</th>\r\n                {isAdmin && <th>Actions</th>}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {emis.map((emi) => (\r\n                <tr key={emi._id} className={isDueSoon(emi.dueDate) && emi.status === 'pending' ? 'table-warning' : ''}>\r\n                  <td>{formatDate(emi.dueDate)}</td>\r\n                  <td>{formatCurrency(emi.amount)}</td>\r\n                  {isAdmin && (\r\n                    <td>{emi.user?.name || 'Unknown'}</td>\r\n                  )}\r\n                  <td><EmiStatusBadge status={emi.status} /></td>\r\n                  <td>{formatCurrency(emi.lateFee || 0)}</td>\r\n                  <td>{formatCurrency(emi.totalPaid || calculateTotal(emi))}</td>\r\n                  {isAdmin && (\r\n                    <td>\r\n                      {emi.status !== 'paid' && (\r\n                        <div className=\"d-flex gap-2\">\r\n                          <Button \r\n                            variant=\"success\" \r\n                            size=\"sm\"\r\n                            onClick={() => handleManualPayClick(emi)}\r\n                          >\r\n                            Record Payment\r\n                          </Button>\r\n                        </div>\r\n                      )}\r\n                      {emi.status === 'paid' && (\r\n                        <Badge bg=\"success\">Paid on {formatDate(emi.paidDate)}</Badge>\r\n                      )}\r\n                    </td>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Payment Modal */}\r\n      <Modal show={showPayModal} onHide={handleCloseModal}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Make Payment</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {success && <Alert variant=\"success\">{success}</Alert>}\r\n          \r\n          <p>Due Date: <strong>{formatDate(selectedEmi?.dueDate)}</strong></p>\r\n          <p>Amount: <strong>{formatCurrency(selectedEmi?.amount)}</strong></p>\r\n          \r\n          {selectedEmi?.status === 'overdue' && (\r\n            <Alert variant=\"warning\">\r\n              This payment is overdue. A late fee may be applied.\r\n            </Alert>\r\n          )}\r\n          \r\n          <Form onSubmit={handlePaymentSubmit}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Payment Reference ID (Optional)</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={paymentId}\r\n                onChange={(e) => setPaymentId(e.target.value)}\r\n                placeholder=\"Enter payment reference\"\r\n              />\r\n              <Form.Text className=\"text-muted\">\r\n                If you have a payment confirmation number, enter it here.\r\n              </Form.Text>\r\n            </Form.Group>\r\n            <div className=\"d-flex justify-content-end gap-2\">\r\n              <Button variant=\"secondary\" onClick={handleCloseModal}>\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"primary\" type=\"submit\" disabled={isProcessing}>\r\n                {isProcessing ? 'Processing...' : 'Confirm Payment'}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      {/* Manual Payment Modal (Admin Only) */}\r\n      <Modal show={showManualModal} onHide={handleCloseModal}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Record Cash Payment</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {error && <Alert variant=\"danger\">{error}</Alert>}\r\n          {success && <Alert variant=\"success\">{success}</Alert>}\r\n          \r\n          <Alert variant=\"info\">\r\n            <strong>Recording payment for:</strong><br />\r\n            Customer: {selectedEmi?.user?.name || 'Unknown'}<br />\r\n            Due Date: {formatDate(selectedEmi?.dueDate)}<br />\r\n            Amount: {formatCurrency(selectedEmi?.amount)}\r\n          </Alert>\r\n          \r\n          <Form onSubmit={handleManualPaymentSubmit}>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Payment Status</Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                name=\"status\"\r\n                value={manualPaymentData.status}\r\n                onChange={handleManualInputChange}\r\n                required\r\n              >\r\n                <option value=\"paid\">Paid</option>\r\n                <option value=\"pending\">Pending</option>\r\n                <option value=\"overdue\">Overdue</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n            \r\n            {manualPaymentData.status === 'paid' && (\r\n              <>\r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Payment Date</Form.Label>\r\n                  <Form.Control\r\n                    type=\"date\"\r\n                    name=\"paymentDate\"\r\n                    value={manualPaymentData.paymentDate}\r\n                    onChange={handleManualInputChange}\r\n                    required\r\n                  />\r\n                </Form.Group>\r\n                \r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Payment Reference</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    name=\"paymentReference\"\r\n                    value={manualPaymentData.paymentReference}\r\n                    onChange={handleManualInputChange}\r\n                    placeholder=\"Cash receipt reference\"\r\n                  />\r\n                </Form.Group>\r\n                \r\n                <Form.Group className=\"mb-3\">\r\n                  <Form.Label>Late Fee (₹)</Form.Label>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    name=\"lateFee\"\r\n                    value={manualPaymentData.lateFee}\r\n                    onChange={handleManualInputChange}\r\n                    min=\"0\"\r\n                  />\r\n                  <Form.Text className=\"text-muted\">\r\n                    Defaults to calculated late fee based on days overdue.\r\n                  </Form.Text>\r\n                </Form.Group>\r\n\r\n                <Row className=\"mb-3\">\r\n                  <Col>\r\n                    <p className=\"fw-bold\">Payment Summary:</p>\r\n                    <p>EMI Amount: {formatCurrency(selectedEmi?.amount || 0)}</p>\r\n                    <p>Late Fee: {formatCurrency(manualPaymentData.lateFee)}</p>\r\n                    <p className=\"mb-0 fs-5\">Total: {formatCurrency((selectedEmi?.amount || 0) + manualPaymentData.lateFee)}</p>\r\n                  </Col>\r\n                </Row>\r\n              </>\r\n            )}\r\n            \r\n            <div className=\"d-flex justify-content-end gap-2\">\r\n              <Button variant=\"secondary\" onClick={handleCloseModal}>\r\n                Cancel\r\n              </Button>\r\n              <Button variant=\"success\" type=\"submit\" disabled={isProcessing}>\r\n                {isProcessing ? 'Processing...' : 'Save Payment Record'}\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmiList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}