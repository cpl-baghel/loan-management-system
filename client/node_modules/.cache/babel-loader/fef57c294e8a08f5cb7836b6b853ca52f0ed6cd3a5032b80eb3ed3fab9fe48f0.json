{"ast":null,"code":"import axios from 'axios';\nimport { getAuthHeader } from './authService';\nconst API_URL = 'http://localhost:5000/api';\n\n// Get user's EMIs\nexport const getUserEmis = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/emis/me`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response;\n    throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message;\n  }\n};\n\n// Get loan EMIs\nexport const getLoanEmis = async loanId => {\n  try {\n    const res = await axios.get(`${API_URL}/emis/loan/${loanId}`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response2;\n    throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message;\n  }\n};\n\n// Pay EMI\nexport const payEmi = async (emiId, paymentId) => {\n  try {\n    const res = await axios.put(`${API_URL}/emis/${emiId}/pay`, {\n      paymentId\n    }, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response3;\n    throw ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message;\n  }\n};\n\n// Get all EMIs (admin only)\nexport const getAllEmis = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/emis`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response4;\n    throw ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || error.message;\n  }\n};\n\n// Update overdue EMIs (admin only)\nexport const updateOverdueEmis = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/emis/update-overdue`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response5;\n    throw ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || error.message;\n  }\n};\n\n// Manually update EMI payment status (admin only)\nexport const manualUpdateEmi = async (emiId, updateData) => {\n  try {\n    const res = await axios.put(`${API_URL}/emis/${emiId}/manual-update`, updateData, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response6;\n    throw ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || error.message;\n  }\n};","map":{"version":3,"names":["axios","getAuthHeader","API_URL","getUserEmis","res","get","data","error","_error$response","response","message","getLoanEmis","loanId","_error$response2","payEmi","emiId","paymentId","put","_error$response3","getAllEmis","_error$response4","updateOverdueEmis","_error$response5","manualUpdateEmi","updateData","_error$response6"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/services/emiService.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getAuthHeader } from './authService';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\n// Get user's EMIs\r\nexport const getUserEmis = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis/me`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get loan EMIs\r\nexport const getLoanEmis = async (loanId) => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis/loan/${loanId}`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Pay EMI\r\nexport const payEmi = async (emiId, paymentId) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/emis/${emiId}/pay`, { paymentId }, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get all EMIs (admin only)\r\nexport const getAllEmis = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Update overdue EMIs (admin only)\r\nexport const updateOverdueEmis = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis/update-overdue`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Manually update EMI payment status (admin only)\r\nexport const manualUpdateEmi = async (emiId, updateData) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/emis/${emiId}/manual-update`, updateData, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}