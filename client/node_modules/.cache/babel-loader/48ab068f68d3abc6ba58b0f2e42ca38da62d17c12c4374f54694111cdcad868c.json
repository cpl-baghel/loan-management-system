{"ast":null,"code":"import React,{useContext}from'react';import{Navbar,Nav,Container,Button}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{AuthContext}from'../../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=()=>{const{user,logout}=useContext(AuthContext);const navigate=useNavigate();console.log('Current user in Header:',user);console.log('User role from localStorage:',localStorage.getItem('userRole'));const handleLogout=()=>{logout();navigate('/login');};return/*#__PURE__*/_jsx(Navbar,{bg:\"primary\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{as:Link,to:\"/\",children:\"Loan Management System\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsx(Nav,{className:\"ms-auto\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/dashboard\",children:\"Dashboard\"}),user.role==='admin'&&/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/admin\",children:\"Admin Panel\"}),user.verificationStatus==='not_submitted'&&/*#__PURE__*/_jsxs(Nav.Link,{as:Link,to:\"/kyc-submission\",className:\"text-warning\",children:[\"Complete KYC \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle\"})]}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/apply-loan\",children:\"Apply for Loan\"}),/*#__PURE__*/_jsx(Button,{variant:\"outline-light\",onClick:handleLogout,className:\"ms-2\",children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/register\",children:\"Register\"})]})})})]})});};export default Header;","map":{"version":3,"names":["React","useContext","Navbar","Nav","Container","Button","Link","useNavigate","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","user","logout","navigate","console","log","localStorage","getItem","handleLogout","bg","variant","expand","children","Brand","as","to","Toggle","Collapse","id","className","role","verificationStatus","onClick"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/components/layout/Header.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Navbar, Nav, Container, Button } from 'react-bootstrap';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\n\nconst Header = () => {\n  const { user, logout } = useContext(AuthContext);\n  const navigate = useNavigate();\n  \n  console.log('Current user in Header:', user);\n  console.log('User role from localStorage:', localStorage.getItem('userRole'));\n\n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n\n  return (\n    <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\">\n      <Container>\n        <Navbar.Brand as={Link} to=\"/\">Loan Management System</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ms-auto\">\n            {user ? (\n              <>\n                <Nav.Link as={Link} to=\"/dashboard\">Dashboard</Nav.Link>\n                {user.role === 'admin' && (\n                  <Nav.Link as={Link} to=\"/admin\">Admin Panel</Nav.Link>\n                )}\n                {user.verificationStatus === 'not_submitted' && (\n                  <Nav.Link as={Link} to=\"/kyc-submission\" className=\"text-warning\">\n                    Complete KYC <i className=\"fas fa-exclamation-circle\"></i>\n                  </Nav.Link>\n                )}\n                <Nav.Link as={Link} to=\"/apply-loan\">Apply for Loan</Nav.Link>\n                <Button variant=\"outline-light\" onClick={handleLogout} className=\"ms-2\">\n                  Logout\n                </Button>\n              </>\n            ) : (\n              <>\n                <Nav.Link as={Link} to=\"/login\">Login</Nav.Link>\n                <Nav.Link as={Link} to=\"/register\">Register</Nav.Link>\n              </>\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Header; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}