{"ast":null,"code":"import axios from'axios';import{getAuthHeader}from'./authService';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';// Get all users (admin only)\nexport const getAllUsers=async()=>{try{const response=await axios.get(`${API_URL}/users`,getAuthHeader());return response.data;}catch(error){var _error$response;throw((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message;}};// Get user profile\nexport const getUserProfile=async userId=>{try{const response=await axios.get(`${API_URL}/users/${userId}`,getAuthHeader());return response.data;}catch(error){var _error$response2;throw((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message;}};// Update user profile\nexport const updateUserProfile=async(userId,userData)=>{try{const response=await axios.put(`${API_URL}/users/${userId}`,userData,getAuthHeader());return response.data;}catch(error){var _error$response3;throw((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message;}};// Upload user document\nexport const uploadUserDocument=async(userId,documentType,file)=>{try{const formData=new FormData();formData.append('document',file);formData.append('documentType',documentType);const response=await axios.post(`${API_URL}/users/${userId}/documents`,formData,{...getAuthHeader(),headers:{...getAuthHeader().headers,'Content-Type':'multipart/form-data'}});return response.data;}catch(error){var _error$response4;throw((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||error.message;}};// Make user an admin (admin only)\nexport const makeAdmin=async userId=>{try{const response=await axios.put(`${API_URL}/users/${userId}/make-admin`,{},getAuthHeader());return response.data;}catch(error){var _error$response5;throw((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data)||error.message;}};// Verify or reject a user (admin only)\nexport const verifyUser=async(userId,status,notes)=>{try{const response=await axios.put(`/api/users/${userId}/verify`,{status,notes},getAuthHeader());return response.data;}catch(error){console.error('Error verifying user:',error);throw error;}};// Upload documents\nexport const uploadDocuments=async formData=>{try{const config={...getAuthHeader(),headers:{...getAuthHeader().headers,'Content-Type':'multipart/form-data'}};const response=await axios.post('/api/users/documents',formData,config);return response.data;}catch(error){console.error('Error uploading documents:',error);throw error;}};// Submit KYC documents\nexport const submitKYC=async(aadharCard,panCard,incomeProof)=>{try{const formData=new FormData();if(aadharCard)formData.append('aadharCard',aadharCard);if(panCard)formData.append('panCard',panCard);if(incomeProof)formData.append('incomeProof',incomeProof);const config={...getAuthHeader(),headers:{...getAuthHeader().headers,'Content-Type':'multipart/form-data'}};const response=await axios.post(`${API_URL}/users/kyc`,formData,config);return response.data;}catch(error){var _error$response6;console.error('Error submitting KYC documents:',error);throw((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.data)||error.message;}};","map":{"version":3,"names":["axios","getAuthHeader","API_URL","process","env","REACT_APP_API_URL","getAllUsers","response","get","data","error","_error$response","message","getUserProfile","userId","_error$response2","updateUserProfile","userData","put","_error$response3","uploadUserDocument","documentType","file","formData","FormData","append","post","headers","_error$response4","makeAdmin","_error$response5","verifyUser","status","notes","console","uploadDocuments","config","submitKYC","aadharCard","panCard","incomeProof","_error$response6"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/services/userService.js"],"sourcesContent":["import axios from 'axios';\nimport { getAuthHeader } from './authService';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Get all users (admin only)\nexport const getAllUsers = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/users`, getAuthHeader());\n    return response.data;\n  } catch (error) {\n    throw error.response?.data || error.message;\n  }\n};\n\n// Get user profile\nexport const getUserProfile = async (userId) => {\n  try {\n    const response = await axios.get(`${API_URL}/users/${userId}`, getAuthHeader());\n    return response.data;\n  } catch (error) {\n    throw error.response?.data || error.message;\n  }\n};\n\n// Update user profile\nexport const updateUserProfile = async (userId, userData) => {\n  try {\n    const response = await axios.put(`${API_URL}/users/${userId}`, userData, getAuthHeader());\n    return response.data;\n  } catch (error) {\n    throw error.response?.data || error.message;\n  }\n};\n\n// Upload user document\nexport const uploadUserDocument = async (userId, documentType, file) => {\n  try {\n    const formData = new FormData();\n    formData.append('document', file);\n    formData.append('documentType', documentType);\n    \n    const response = await axios.post(`${API_URL}/users/${userId}/documents`, formData, {\n      ...getAuthHeader(),\n      headers: {\n        ...getAuthHeader().headers,\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    \n    return response.data;\n  } catch (error) {\n    throw error.response?.data || error.message;\n  }\n};\n\n// Make user an admin (admin only)\nexport const makeAdmin = async (userId) => {\n  try {\n    const response = await axios.put(`${API_URL}/users/${userId}/make-admin`, {}, getAuthHeader());\n    return response.data;\n  } catch (error) {\n    throw error.response?.data || error.message;\n  }\n};\n\n// Verify or reject a user (admin only)\nexport const verifyUser = async (userId, status, notes) => {\n  try {\n    const response = await axios.put(`/api/users/${userId}/verify`, { \n      status, \n      notes \n    }, getAuthHeader());\n    return response.data;\n  } catch (error) {\n    console.error('Error verifying user:', error);\n    throw error;\n  }\n};\n\n// Upload documents\nexport const uploadDocuments = async (formData) => {\n  try {\n    const config = {\n      ...getAuthHeader(),\n      headers: {\n        ...getAuthHeader().headers,\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    \n    const response = await axios.post('/api/users/documents', formData, config);\n    return response.data;\n  } catch (error) {\n    console.error('Error uploading documents:', error);\n    throw error;\n  }\n};\n\n// Submit KYC documents\nexport const submitKYC = async (aadharCard, panCard, incomeProof) => {\n  try {\n    const formData = new FormData();\n    if (aadharCard) formData.append('aadharCard', aadharCard);\n    if (panCard) formData.append('panCard', panCard);\n    if (incomeProof) formData.append('incomeProof', incomeProof);\n    \n    const config = {\n      ...getAuthHeader(),\n      headers: {\n        ...getAuthHeader().headers,\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    \n    const response = await axios.post(`${API_URL}/users/kyc`, formData, config);\n    return response.data;\n  } catch (error) {\n    console.error('Error submitting KYC documents:', error);\n    throw error.response?.data || error.message;\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}