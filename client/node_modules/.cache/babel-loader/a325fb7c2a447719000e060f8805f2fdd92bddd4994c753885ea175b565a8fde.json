{"ast":null,"code":"import axios from 'axios';\nimport { getAuthHeader } from './authService';\nconst API_URL = 'http://localhost:5000/api';\n\n// Apply for a loan\nexport const applyForLoan = async loanData => {\n  try {\n    const res = await axios.post(`${API_URL}/loans`, loanData, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response;\n    throw ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message;\n  }\n};\n\n// Get all loans (admin only)\nexport const getAllLoans = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/loans`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response2;\n    throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message;\n  }\n};\n\n// Get pending loans (admin only)\nexport const getPendingLoans = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/loans/pending`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response3;\n    throw ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message;\n  }\n};\n\n// Get user's loans\nexport const getUserLoans = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/loans/me`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response4;\n    throw ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data) || error.message;\n  }\n};\n\n// Get loan by ID\nexport const getLoanById = async id => {\n  try {\n    const res = await axios.get(`${API_URL}/loans/${id}`, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response5;\n    throw ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || error.message;\n  }\n};\n\n// Approve loan (admin only)\nexport const approveLoan = async id => {\n  try {\n    const res = await axios.put(`${API_URL}/loans/${id}/approve`, {}, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    if (error.response && error.response.data) {\n      console.error('Approve loan error response:', error.response.data);\n      throw error.response.data;\n    }\n    throw error.message || 'Failed to approve loan';\n  }\n};\n\n// Reject loan (admin only)\nexport const rejectLoan = async (id, rejectionReason) => {\n  try {\n    const res = await axios.put(`${API_URL}/loans/${id}/reject`, {\n      rejectionReason\n    }, getAuthHeader());\n    return res.data;\n  } catch (error) {\n    var _error$response6;\n    throw ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || error.message;\n  }\n};","map":{"version":3,"names":["axios","getAuthHeader","API_URL","applyForLoan","loanData","res","post","data","error","_error$response","response","message","getAllLoans","get","_error$response2","getPendingLoans","_error$response3","getUserLoans","_error$response4","getLoanById","id","_error$response5","approveLoan","put","console","rejectLoan","rejectionReason","_error$response6"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/services/loanService.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getAuthHeader } from './authService';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\n// Apply for a loan\r\nexport const applyForLoan = async (loanData) => {\r\n  try {\r\n    const res = await axios.post(`${API_URL}/loans`, loanData, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get all loans (admin only)\r\nexport const getAllLoans = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get pending loans (admin only)\r\nexport const getPendingLoans = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans/pending`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get user's loans\r\nexport const getUserLoans = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans/me`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get loan by ID\r\nexport const getLoanById = async (id) => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans/${id}`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Approve loan (admin only)\r\nexport const approveLoan = async (id) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/loans/${id}/approve`, {}, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    if (error.response && error.response.data) {\r\n      console.error('Approve loan error response:', error.response.data);\r\n      throw error.response.data;\r\n    }\r\n    throw error.message || 'Failed to approve loan';\r\n  }\r\n};\r\n\r\n// Reject loan (admin only)\r\nexport const rejectLoan = async (id, rejectionReason) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/loans/${id}/reject`, { rejectionReason }, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}