{"ast":null,"code":"import axios from'axios';import{getAuthHeader}from'./authService';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';// Get user's EMIs\nexport const getUserEmis=async()=>{try{const res=await axios.get(`${API_URL}/emis/me`,getAuthHeader());return res.data;}catch(error){var _error$response;throw((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message;}};// Get loan EMIs\nexport const getLoanEmis=async loanId=>{try{const res=await axios.get(`${API_URL}/emis/loan/${loanId}`,getAuthHeader());return res.data;}catch(error){var _error$response2;throw((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message;}};// Pay EMI\nexport const payEmi=async(emiId,paymentId)=>{try{const res=await axios.put(`${API_URL}/emis/${emiId}/pay`,{paymentId},getAuthHeader());return res.data;}catch(error){var _error$response3;throw((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message;}};// Get all EMIs (admin only)\nexport const getAllEmis=async()=>{try{const res=await axios.get(`${API_URL}/emis`,getAuthHeader());return res.data;}catch(error){var _error$response4;throw((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||error.message;}};// Update overdue EMIs (admin only)\nexport const updateOverdueEmis=async()=>{try{const res=await axios.get(`${API_URL}/emis/update-overdue`,getAuthHeader());return res.data;}catch(error){var _error$response5;throw((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data)||error.message;}};// Manually update EMI payment status (admin only)\nexport const manualUpdateEmi=async(emiId,updateData)=>{try{const res=await axios.put(`${API_URL}/emis/${emiId}/manual-update`,updateData,getAuthHeader());return res.data;}catch(error){var _error$response6;throw((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.data)||error.message;}};","map":{"version":3,"names":["axios","getAuthHeader","API_URL","process","env","REACT_APP_API_URL","getUserEmis","res","get","data","error","_error$response","response","message","getLoanEmis","loanId","_error$response2","payEmi","emiId","paymentId","put","_error$response3","getAllEmis","_error$response4","updateOverdueEmis","_error$response5","manualUpdateEmi","updateData","_error$response6"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/services/emiService.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getAuthHeader } from './authService';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Get user's EMIs\r\nexport const getUserEmis = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis/me`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get loan EMIs\r\nexport const getLoanEmis = async (loanId) => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis/loan/${loanId}`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Pay EMI\r\nexport const payEmi = async (emiId, paymentId) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/emis/${emiId}/pay`, { paymentId }, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get all EMIs (admin only)\r\nexport const getAllEmis = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Update overdue EMIs (admin only)\r\nexport const updateOverdueEmis = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/emis/update-overdue`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Manually update EMI payment status (admin only)\r\nexport const manualUpdateEmi = async (emiId, updateData) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/emis/${emiId}/manual-update`, updateData, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}