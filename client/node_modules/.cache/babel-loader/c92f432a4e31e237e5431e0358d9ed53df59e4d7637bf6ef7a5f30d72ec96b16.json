{"ast":null,"code":"import axios from'axios';import{getAuthHeader}from'./authService';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';// Apply for a loan\nexport const applyForLoan=async loanData=>{try{const res=await axios.post(`${API_URL}/loans`,loanData,getAuthHeader());return res.data;}catch(error){var _error$response;throw((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message;}};// Get all loans (admin only)\nexport const getAllLoans=async()=>{try{const res=await axios.get(`${API_URL}/loans`,getAuthHeader());return res.data;}catch(error){var _error$response2;throw((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message;}};// Get pending loans (admin only)\nexport const getPendingLoans=async()=>{try{const res=await axios.get(`${API_URL}/loans/pending`,getAuthHeader());return res.data;}catch(error){var _error$response3;throw((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message;}};// Get user's loans\nexport const getUserLoans=async()=>{try{const res=await axios.get(`${API_URL}/loans/me`,getAuthHeader());return res.data;}catch(error){var _error$response4;throw((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||error.message;}};// Get loan by ID\nexport const getLoanById=async id=>{try{const res=await axios.get(`${API_URL}/loans/${id}`,getAuthHeader());return res.data;}catch(error){var _error$response5;throw((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data)||error.message;}};// Approve loan (admin only)\nexport const approveLoan=async id=>{try{const res=await axios.put(`${API_URL}/loans/${id}/approve`,{},getAuthHeader());return res.data;}catch(error){if(error.response&&error.response.data){console.error('Approve loan error response:',error.response.data);throw error.response.data;}throw error.message||'Failed to approve loan';}};// Reject loan (admin only)\nexport const rejectLoan=async(id,rejectionReason)=>{try{const res=await axios.put(`${API_URL}/loans/${id}/reject`,{rejectionReason},getAuthHeader());return res.data;}catch(error){var _error$response6;throw((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.data)||error.message;}};","map":{"version":3,"names":["axios","getAuthHeader","API_URL","process","env","REACT_APP_API_URL","applyForLoan","loanData","res","post","data","error","_error$response","response","message","getAllLoans","get","_error$response2","getPendingLoans","_error$response3","getUserLoans","_error$response4","getLoanById","id","_error$response5","approveLoan","put","console","rejectLoan","rejectionReason","_error$response6"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/services/loanService.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getAuthHeader } from './authService';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Apply for a loan\r\nexport const applyForLoan = async (loanData) => {\r\n  try {\r\n    const res = await axios.post(`${API_URL}/loans`, loanData, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get all loans (admin only)\r\nexport const getAllLoans = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get pending loans (admin only)\r\nexport const getPendingLoans = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans/pending`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get user's loans\r\nexport const getUserLoans = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans/me`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Get loan by ID\r\nexport const getLoanById = async (id) => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/loans/${id}`, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n};\r\n\r\n// Approve loan (admin only)\r\nexport const approveLoan = async (id) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/loans/${id}/approve`, {}, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    if (error.response && error.response.data) {\r\n      console.error('Approve loan error response:', error.response.data);\r\n      throw error.response.data;\r\n    }\r\n    throw error.message || 'Failed to approve loan';\r\n  }\r\n};\r\n\r\n// Reject loan (admin only)\r\nexport const rejectLoan = async (id, rejectionReason) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/loans/${id}/reject`, { rejectionReason }, getAuthHeader());\r\n    return res.data;\r\n  } catch (error) {\r\n    throw error.response?.data || error.message;\r\n  }\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}