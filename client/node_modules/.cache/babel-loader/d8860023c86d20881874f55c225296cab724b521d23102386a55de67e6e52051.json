{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Row,Col,Alert}from'react-bootstrap';import{getAdminStats}from'../../services/adminService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminStats=()=>{var _stats$verificationCo,_stats$verificationCo2,_stats$verificationCo3,_stats$verificationCo4,_stats$verificationCo5,_stats$loanCounts,_stats$loanCounts2,_stats$loanAmounts;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{setLoading(true);setError('');console.log('Fetching admin stats...');const data=await getAdminStats();console.log('Admin stats received:',data);setStats(data);}catch(err){console.error('Admin stats error:',err);setError(`Failed to fetch admin statistics: ${err.message||'Unknown error'}`);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Loading statistics...\"});if(error)return/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error});if(!stats)return null;return/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted\",children:\"Pending Verifications\"}),/*#__PURE__*/_jsx(\"h3\",{children:((_stats$verificationCo=stats.verificationCounts)===null||_stats$verificationCo===void 0?void 0:_stats$verificationCo.pending)||0})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted\",children:\"Total Users\"}),/*#__PURE__*/_jsx(\"h3\",{children:(((_stats$verificationCo2=stats.verificationCounts)===null||_stats$verificationCo2===void 0?void 0:_stats$verificationCo2.verified)||0)+(((_stats$verificationCo3=stats.verificationCounts)===null||_stats$verificationCo3===void 0?void 0:_stats$verificationCo3.pending)||0)+(((_stats$verificationCo4=stats.verificationCounts)===null||_stats$verificationCo4===void 0?void 0:_stats$verificationCo4.rejected)||0)+(((_stats$verificationCo5=stats.verificationCounts)===null||_stats$verificationCo5===void 0?void 0:_stats$verificationCo5.notSubmitted)||0)})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted\",children:\"Active Loans\"}),/*#__PURE__*/_jsx(\"h3\",{children:((_stats$loanCounts=stats.loanCounts)===null||_stats$loanCounts===void 0?void 0:_stats$loanCounts.approved)||0})]})})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted\",children:\"Pending Loans\"}),/*#__PURE__*/_jsx(\"h3\",{children:((_stats$loanCounts2=stats.loanCounts)===null||_stats$loanCounts2===void 0?void 0:_stats$loanCounts2.pending)||0}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"\\u20B9\",((_stats$loanAmounts=stats.loanAmounts)===null||_stats$loanAmounts===void 0?void 0:_stats$loanAmounts.pending)||0]})]})})})]});};export default AdminStats;","map":{"version":3,"names":["React","useState","useEffect","Card","Row","Col","Alert","getAdminStats","jsx","_jsx","jsxs","_jsxs","AdminStats","_stats$verificationCo","_stats$verificationCo2","_stats$verificationCo3","_stats$verificationCo4","_stats$verificationCo5","_stats$loanCounts","_stats$loanCounts2","_stats$loanAmounts","stats","setStats","loading","setLoading","error","setError","fetchStats","console","log","data","err","message","className","children","variant","md","Body","verificationCounts","pending","verified","rejected","notSubmitted","loanCounts","approved","loanAmounts"],"sources":["C:/Users/cpl/Desktop/Cursor/loan-management-system/client/src/components/admin/AdminStats.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Card, Row, Col, Alert } from 'react-bootstrap';\r\nimport { getAdminStats } from '../../services/adminService';\r\n\r\nconst AdminStats = () => {\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      console.log('Fetching admin stats...');\r\n      const data = await getAdminStats();\r\n      console.log('Admin stats received:', data);\r\n      setStats(data);\r\n    } catch (err) {\r\n      console.error('Admin stats error:', err);\r\n      setError(`Failed to fetch admin statistics: ${err.message || 'Unknown error'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <p className=\"text-center\">Loading statistics...</p>;\r\n  if (error) return <Alert variant=\"danger\">{error}</Alert>;\r\n  if (!stats) return null;\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={3}>\r\n        <Card className=\"mb-4\">\r\n          <Card.Body>\r\n            <h6 className=\"text-muted\">Pending Verifications</h6>\r\n            <h3>{stats.verificationCounts?.pending || 0}</h3>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>\r\n      <Col md={3}>\r\n        <Card className=\"mb-4\">\r\n          <Card.Body>\r\n            <h6 className=\"text-muted\">Total Users</h6>\r\n            <h3>{(stats.verificationCounts?.verified || 0) + \r\n                (stats.verificationCounts?.pending || 0) + \r\n                (stats.verificationCounts?.rejected || 0) + \r\n                (stats.verificationCounts?.notSubmitted || 0)}</h3>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>\r\n      <Col md={3}>\r\n        <Card className=\"mb-4\">\r\n          <Card.Body>\r\n            <h6 className=\"text-muted\">Active Loans</h6>\r\n            <h3>{stats.loanCounts?.approved || 0}</h3>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>\r\n      <Col md={3}>\r\n        <Card className=\"mb-4\">\r\n          <Card.Body>\r\n            <h6 className=\"text-muted\">Pending Loans</h6>\r\n            <h3>{stats.loanCounts?.pending || 0}</h3>\r\n            <small className=\"text-muted\">â‚¹{stats.loanAmounts?.pending || 0}</small>\r\n          </Card.Body>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default AdminStats; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}